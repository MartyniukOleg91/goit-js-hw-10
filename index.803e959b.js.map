{"mappings":"AAAO,SAASA,GAAiBC,MAAEA,EAAKC,KAAEA,IACtC,MAAO,gFAEmCD,EAAME,aAAaD,EAAKE,4DACjCF,EAAKE,gC,CAKnC,SAASC,GAAgBJ,MAAEA,EAAKC,KAAEA,EAAII,QAAEA,EAAOC,WAAEA,EAAUC,UAAEA,IAChE,MAAO,uEAE8BP,EAAME,aAAaD,EAAKE,uEACpBF,EAAKE,2DACPE,oDACCC,mDACDE,OAAOC,OAAOF,0B,CCVzD,MAEMG,EAAO,CACTC,YAAaC,SAASC,cAAc,eACpCC,YAAaF,SAASC,cAAc,iBACpCE,YAAaH,SAASC,cAAc,mBAGjCF,YAAEK,EAAWF,YAAEG,EAAWF,YAAEG,GAAgBR,EAEnDM,EAAYG,iBAAiB,QAASC,UAItC,SAAmBC,GACfA,EAAEC,iBACN,IAAIC,EAASP,EAAYQ,MAEzB,GAAqB,KAAlBD,EAAOE,OAGN,OAFAR,EAAYS,UAAY,QACxBR,EAAYQ,UAAY,KC1BGzB,ED+BhBsB,EAAOE,OC5BbE,MAFK,uCAAuC1B,oDAEjC2B,MAAKC,IACrB,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,KDyBzBL,MAAKM,IAEF,GAAGA,EAAUC,OAAS,GAIlB,OAHAC,OAAOC,KAAK,8DACZpB,EAAYS,UAAY,QACxBR,EAAYQ,UAAY,IAI5B,GAAGQ,EAAUC,OAAS,GAAMD,EAAUC,QAAU,GAAI,CACpD,MAAMG,EAASJ,EAAUK,KAAIC,GAAWzC,EAAgByC,KACxDvB,EAAYS,UAAYY,EAAOG,KAAK,IACpCvB,EAAYQ,UAAY,E,CAGxB,GAAwB,IAArBQ,EAAUC,OAAc,CACvB,MAAMO,EAAaR,EAAUK,KAAIC,GAAWpC,EAAgBoC,KAC5DvB,EAAYS,UAAY,GACxBR,EAAYQ,UAAYgB,EAAWD,KAAK,G,KAI/CE,OAAMC,IACHR,OAAOS,QAAQ,4CACf5B,EAAYS,UAAY,GACxBR,EAAYQ,UAAY,GACjBkB,KC1DJ,IAAwB3C,C,GDMR","sources":["src/template.js","src/index.js","src/fetchCountries.js"],"sourcesContent":["export function showCountryList ({ flags, name }){\n    return `\n    <li class = country-item>\n    <img class = 'country-list__flags' src=\"${flags.svg}\" alt=\"${name.official}\" width=50/>\n    <h2 class = country-list__name>${name.official}</h2>\n    </li>\n    `\n}\n\nexport function showCountryCard({ flags, name, capital, population, languages }) {\n    return `\n    <div class=\"country\">\n      <img class = \"capital-flag\" src=\"${flags.svg}\" alt=\"${name.official}\" width = 100/>\n      <h2 class = \"country-title\">Country: ${name.official}</h2>\n      <p class = \"country-text\">Capital: ${capital}</p>\n      <p class=\"country-text\">Population: ${population}</p>\n      <p class=\"country-text\">Languages: ${Object.values(languages)}</p>\n    </div>\n    `\n}","import './css/styles.css';\n// import debounce from 'lodash.debounce';\nimport { fetchCountries  } from './fetchCountries';\nimport { showCountryList, showCountryCard } from './template';\n// import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst DEBOUNCE_DELAY = 300;\n\nconst refs = {\n    inputSearch: document.querySelector('#search-box'),\n    countryList: document.querySelector('.country-list'),\n    countryInfo: document.querySelector('.country-info'),\n};\n\n const { inputSearch, countryList, countryInfo } = refs;\n\ninputSearch.addEventListener('input', debounce(onSearch, DEBOUNCE_DELAY));\n\n\n\nfunction onSearch (e) {\n    e.preventDefault();\nlet search = inputSearch.value;\n// console.log('search: ',search);\nif(search.trim() === \"\") {\n    countryList.innerHTML = \"\";\n    countryInfo.innerHTML = \"\";\n    return;\n}\n    \n    \nfetchCountries(search.trim())\n.then(countries => {\n    // console.log(countries);\n    if(countries.length > 10) {\n        Notify.info('Too many matches found. Please enter a more specific name.');\n        countryList.innerHTML = \"\";\n        countryInfo.innerHTML = \"\";\n        return;\n    }\n\n    if(countries.length > 1  && countries.length <= 10) {\n    const markup = countries.map(country => showCountryList(country))\n    countryList.innerHTML = markup.join('');\n    countryInfo.innerHTML = \"\";\n    }\n\n    if(countries.length === 1) {\n        const cardMarcup = countries.map(country => showCountryCard(country));\n        countryList.innerHTML = \"\";\n        countryInfo.innerHTML = cardMarcup.join('');\n    }\n})\n    \n.catch(error => {\n    Notify.failure('Oops, there is no country with that name');\n    countryList.innerHTML = \"\";\n    countryInfo.innerHTML = \"\";\n    return error;\n})\n}","export function fetchCountries(name) {\n  const url = `https://restcountries.com/v3.1/name/${name}?fields=name,capital,population,flags,languages`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}"],"names":["$b26d85a3ce448bd9$export$af17098aa403eb21","flags","name","svg","official","$b26d85a3ce448bd9$export$4ed0945eb0e5b121","capital","population","languages","Object","values","$1f0dc3b9307be026$var$refs","inputSearch","document","querySelector","countryList","countryInfo","$1f0dc3b9307be026$var$inputSearch","$1f0dc3b9307be026$var$countryList","$1f0dc3b9307be026$var$countryInfo","addEventListener","debounce","e","preventDefault","search","value","trim","innerHTML","fetch","then","response","ok","Error","status","json","countries","length","Notify","info","markup","map","country","join","cardMarcup","catch","error","failure"],"version":3,"file":"index.803e959b.js.map"}